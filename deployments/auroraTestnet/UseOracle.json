{
  "address": "0xF6aE0bAdC920016f817B3ff1039E310Ac6F81D71",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "oracle",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "getLatestRandomValue",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getLatestRound",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "randomOracle",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x47336339a808d654e969ea3e75285ef67df6631f23f1900da599e1a83e55d84d",
  "receipt": {
    "to": null,
    "from": "0x09D9bE9B3702B55845838Cfc43b3716870A699B4",
    "contractAddress": "0xF6aE0bAdC920016f817B3ff1039E310Ac6F81D71",
    "transactionIndex": 0,
    "gasUsed": "410986",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xa582fdbfad958182d6ba30e000ea4ce327d8c62868984a2037cc89309a9a9430",
    "transactionHash": "0x47336339a808d654e969ea3e75285ef67df6631f23f1900da599e1a83e55d84d",
    "logs": [],
    "blockNumber": 96085437,
    "cumulativeGasUsed": "0",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x8A81965D4c6D92DCbBd537A178c7C29Dc1C37bA2"
  ],
  "numDeployments": 1,
  "solcInputHash": "dc354aad4eb637be201edd35bc3ee821",
  "metadata": "{\"compiler\":{\"version\":\"0.8.9+commit.e5eed63a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"getLatestRandomValue\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getLatestRound\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"randomOracle\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/UseOracle.sol\":\"UseOracle\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/Oracle.sol\":{\"content\":\"pragma solidity ^0.8.0;\\n\\ncontract DIARandomOracle {\\n\\n  struct Random { \\n    string randomness;\\n    string signature;\\n    string previousSignature;\\n  }\\n\\n  mapping (uint256 => Random) public values;\\n  uint256 public lastRound = 0;\\n\\n  address public oracleUpdater;\\n\\n  event OracleUpdate(string key, uint128 value, uint128 timestamp);\\n  event UpdaterAddressChange(address newUpdater);\\n\\n  constructor() {\\n    oracleUpdater = msg.sender;\\n  }\\n\\n  function setRandomValue(uint256 _round, string memory _randomness, string memory _signature, string memory _previousSignature) public {\\n    require(msg.sender == oracleUpdater,\\\"not a updater\\\");\\n    require(lastRound<_round, \\\"old round\\\");\\n    lastRound = _round;\\n    values[_round] = Random(_randomness, _signature, _previousSignature);\\n  }\\n\\n  function getValue(uint256 _round) external view returns (Random memory) {\\n    return values[_round];\\n  }\\n\\n  function updateOracleUpdaterAddress(address newOracleUpdaterAddress) public {\\n    require(msg.sender == oracleUpdater,\\\"not a updater\\\");\\n    oracleUpdater = newOracleUpdaterAddress;\\n    emit UpdaterAddressChange(newOracleUpdaterAddress);\\n  }\\n\\n  function getRandomValueFromRound(uint256 _round) external view returns (string memory) {\\n    return values[_round].randomness;\\n  }\\n\\n  function getRandomValueFromRoundWithSignature(uint256 _round) external view returns (Random memory) {\\n    return values[_round];\\n  }\\n\\n  function getLastRound() public view returns(uint256) {\\n    return lastRound;\\n  }\\n}\\n\\n\",\"keccak256\":\"0x129cb741801f27af2fc975641a72766d3bb8e500f7356917b6c0081777176bcd\"},\"contracts/UseOracle.sol\":{\"content\":\"pragma solidity ^0.8.0;\\n\\nimport \\\"./Oracle.sol\\\";\\n\\ncontract UseOracle {\\n  address public randomOracle;\\n  \\n  constructor(address oracle) {\\n    randomOracle = oracle;\\n  }\\n\\n  function getLatestRound() public view returns(uint256) {\\n      return DIARandomOracle(randomOracle).lastRound();\\n  }\\n\\n  function getLatestRandomValue() public view returns (string memory) {\\n    DIARandomOracle Oracle = DIARandomOracle(randomOracle);\\n    return Oracle.getRandomValueFromRound(Oracle.lastRound());\\n  }\\n}\",\"keccak256\":\"0x30c61d5420f74c2f98efe2b8b4032405b9d27f21db1479d5debd954583961fe6\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50604051610717380380610717833981810160405281019061003291906100db565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610108565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006100a88261007d565b9050919050565b6100b88161009d565b81146100c357600080fd5b50565b6000815190506100d5816100af565b92915050565b6000602082840312156100f1576100f0610078565b5b60006100ff848285016100c6565b91505092915050565b610600806101176000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c8063708fe4df14610046578063a188dc4914610064578063a224c19814610082575b600080fd5b61004e6100a0565b60405161005b91906102bc565b60405180910390f35b61006c610146565b6040516100799190610370565b60405180910390f35b61008a61027f565b60405161009791906103d3565b60405180910390f35b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166382bc07e66040518163ffffffff1660e01b815260040160206040518083038186803b15801561010957600080fd5b505afa15801561011d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610141919061042e565b905090565b606060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508073ffffffffffffffffffffffffffffffffffffffff16636f9aa7848273ffffffffffffffffffffffffffffffffffffffff166382bc07e66040518163ffffffff1660e01b815260040160206040518083038186803b1580156101d057600080fd5b505afa1580156101e4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610208919061042e565b6040518263ffffffff1660e01b815260040161022491906102bc565b60006040518083038186803b15801561023c57600080fd5b505afa158015610250573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906102799190610581565b91505090565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000819050919050565b6102b6816102a3565b82525050565b60006020820190506102d160008301846102ad565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156103115780820151818401526020810190506102f6565b83811115610320576000848401525b50505050565b6000601f19601f8301169050919050565b6000610342826102d7565b61034c81856102e2565b935061035c8185602086016102f3565b61036581610326565b840191505092915050565b6000602082019050818103600083015261038a8184610337565b905092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006103bd82610392565b9050919050565b6103cd816103b2565b82525050565b60006020820190506103e860008301846103c4565b92915050565b6000604051905090565b600080fd5b600080fd5b61040b816102a3565b811461041657600080fd5b50565b60008151905061042881610402565b92915050565b600060208284031215610444576104436103f8565b5b600061045284828501610419565b91505092915050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61049d82610326565b810181811067ffffffffffffffff821117156104bc576104bb610465565b5b80604052505050565b60006104cf6103ee565b90506104db8282610494565b919050565b600067ffffffffffffffff8211156104fb576104fa610465565b5b61050482610326565b9050602081019050919050565b600061052461051f846104e0565b6104c5565b9050828152602081018484840111156105405761053f610460565b5b61054b8482856102f3565b509392505050565b600082601f8301126105685761056761045b565b5b8151610578848260208601610511565b91505092915050565b600060208284031215610597576105966103f8565b5b600082015167ffffffffffffffff8111156105b5576105b46103fd565b5b6105c184828501610553565b9150509291505056fea26469706673582212208439e2cb1dff5ef334bd716979d280d843a4e92e4a765090ae8ab2dd0fe4771364736f6c63430008090033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100415760003560e01c8063708fe4df14610046578063a188dc4914610064578063a224c19814610082575b600080fd5b61004e6100a0565b60405161005b91906102bc565b60405180910390f35b61006c610146565b6040516100799190610370565b60405180910390f35b61008a61027f565b60405161009791906103d3565b60405180910390f35b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166382bc07e66040518163ffffffff1660e01b815260040160206040518083038186803b15801561010957600080fd5b505afa15801561011d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610141919061042e565b905090565b606060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508073ffffffffffffffffffffffffffffffffffffffff16636f9aa7848273ffffffffffffffffffffffffffffffffffffffff166382bc07e66040518163ffffffff1660e01b815260040160206040518083038186803b1580156101d057600080fd5b505afa1580156101e4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610208919061042e565b6040518263ffffffff1660e01b815260040161022491906102bc565b60006040518083038186803b15801561023c57600080fd5b505afa158015610250573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906102799190610581565b91505090565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000819050919050565b6102b6816102a3565b82525050565b60006020820190506102d160008301846102ad565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156103115780820151818401526020810190506102f6565b83811115610320576000848401525b50505050565b6000601f19601f8301169050919050565b6000610342826102d7565b61034c81856102e2565b935061035c8185602086016102f3565b61036581610326565b840191505092915050565b6000602082019050818103600083015261038a8184610337565b905092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006103bd82610392565b9050919050565b6103cd816103b2565b82525050565b60006020820190506103e860008301846103c4565b92915050565b6000604051905090565b600080fd5b600080fd5b61040b816102a3565b811461041657600080fd5b50565b60008151905061042881610402565b92915050565b600060208284031215610444576104436103f8565b5b600061045284828501610419565b91505092915050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61049d82610326565b810181811067ffffffffffffffff821117156104bc576104bb610465565b5b80604052505050565b60006104cf6103ee565b90506104db8282610494565b919050565b600067ffffffffffffffff8211156104fb576104fa610465565b5b61050482610326565b9050602081019050919050565b600061052461051f846104e0565b6104c5565b9050828152602081018484840111156105405761053f610460565b5b61054b8482856102f3565b509392505050565b600082601f8301126105685761056761045b565b5b8151610578848260208601610511565b91505092915050565b600060208284031215610597576105966103f8565b5b600082015167ffffffffffffffff8111156105b5576105b46103fd565b5b6105c184828501610553565b9150509291505056fea26469706673582212208439e2cb1dff5ef334bd716979d280d843a4e92e4a765090ae8ab2dd0fe4771364736f6c63430008090033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 155,
        "contract": "contracts/UseOracle.sol:UseOracle",
        "label": "randomOracle",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      }
    }
  }
}